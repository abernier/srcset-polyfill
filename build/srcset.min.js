(function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var u=typeof require=="function"&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}var s=typeof require=="function"&&require;for(var a=0;a<n.length;a++)i(n[a]);return i})({1:[function(e,t,r){(function(){var e=/^[0-9]+$/;function r(e){this.imageCandidates=[];this.srcValue=e.src;this.srcsetValue=e.srcset;this.isValid=true;this.error="";this._parse(this.srcsetValue);if(!this.isValid){console.error("Error: "+this.error)}}r.prototype._parse=function(){var e=this.srcsetValue,t=0,r=[],i,s;while(e!==""){while(e.charAt(0)===" "){e=e.slice(1)}t=e.indexOf(" ");if(t!==-1){i=e.slice(0,t);if(i===""){break}e=e.slice(t+1);t=e.indexOf(",");if(t===-1){s=e;e=""}else{s=e.slice(0,t);e=e.slice(t+1)}r.push({url:i,descriptors:s})}else{r.push({url:e,descriptors:""});e=""}}for(var a=0,o=r.length;a<o;a++){var u=r[a],f=this._parseDescriptors(u.descriptors);this._addCandidate(new n({src:u.url,x:f.x,w:f.w,h:f.h}))}if(this.srcValue){this._addCandidate(new n({src:this.srcValue}))}};r.prototype._addCandidate=function(e){for(var t=0;t<this.imageCandidates.length;t++){var r=this.imageCandidates[t];if(r.x==e.x&&r.w==e.w&&r.h==e.h){return}}this.imageCandidates.push(e)};r.prototype._parseDescriptors=function(t){var r=t.split(/\s/);var n={};for(var i=0;i<r.length;i++){var s=r[i];if(s.length>0){var a=s[s.length-1];var o=s.substring(0,s.length-1);var u=parseInt(o,10);var f=parseFloat(o);if(o.match(e)&&a==="w"){n[a]=u}else if(o.match(e)&&a=="h"){n[a]=u}else if(!isNaN(f)&&a=="x"){n[a]=f}else{this.error='Invalid srcset descriptor found in "'+s+'".';this.isValid=false}}}return n};function n(e){this.src=e.src;this.w=e.w||Infinity;this.h=e.h||Infinity;this.x=e.x||1}this.SrcsetInfo=r;if(typeof t!=="undefined"&&t!==null){t.exports=this.SrcsetInfo}})(this)},{}],2:[function(e,t,r){(function(){if(typeof window.CustomEvent==="function")return false;function e(e,t){t=t||{bubbles:false,cancelable:false,detail:undefined};var r=document.createEvent("CustomEvent");r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return r}e.prototype=window.Event.prototype;window.CustomEvent=e})();(function(){var r=this.ViewportInfo||e("./viewport-info");var n=this.SrcsetInfo||e("./srcset-info");var i=e("weak-map");var s={};var a=new r;s.viewportInfo=a;a.compute();var o=(new Date).getTime();s.windowResizedAt=o;function u(e,t,r){var n,i,s,a,o;var u=function(){var f=(new Date).getTime()-a;if(f<t&&f>=0){n=setTimeout(u,t-f)}else{n=null;if(!r){o=e.apply(s,i);if(!n)s=i=null}}};return function(){s=this;i=arguments;a=(new Date).getTime();var f=r&&!n;if(!n)n=setTimeout(u,t);if(f){o=e.apply(s,i);s=i=null}return o}}var f=function(){var e=["WebKit","Moz","O","Ms",""];for(var t=0;t<e.length;t++){if(e[t]+"MutationObserver"in window){return window[e[t]+"MutationObserver"]}}return false}();function c(e){this.el=e;this.srcsetInfo=new n({src:this.el.src,srcset:this.el.dataset.srcset});if(f){this.mo=new MutationObserver(function(e){e.forEach(function(e){if(e.target===this.el&&e.type==="attributes"){if(e.attributeName==="src"||e.attributeName==="data-srcset"){this.update()}}}.bind(this))}.bind(this));this.mo.observe(this.el,{attributes:true})}}c.prototype.update=function(e){e||(e={});if(this.srcsetInfo.srcValue!==this.el.src){this.srcsetInfo.srcValue=this.el.src}var t;if(this.srcsetInfo.srcsetValue!==this.el.dataset.srcset){t=true;this.srcsetInfo.imageCandidates=[];this.srcsetInfo.srcsetValue=this.el.dataset.srcset;this.srcsetInfo._parse(this.srcsetInfo.srcsetValue);if(!this.srcsetInfo.isValid){console.error("Error: "+this.srcsetInfo.error)}}var r=!this.srcupdatedat||this.srcupdatedat<o;if(!this.el.src||r||t||e.force){if(this.srcsetInfo){var n=a.getBestImage(this.srcsetInfo);var i=this.el.src;var s=n.src;if(s===i)return false;var u=new CustomEvent("srcchanged",{detail:{previous:i,actual:s},bubbles:true});this.el.src=s;setTimeout(function(){this.el.dispatchEvent(u)}.bind(this),0)}this.srcupdatedat=(new Date).getTime()}};var l=new i;s.imgs=l;function h(){o=(new Date).getTime();a.compute();[].forEach.call(document.querySelectorAll("[data-srcset]"),function(e){var t=l.get(e);if(!t){t=new c(e);l.set(e,t)}t.update()})}window.onresize=u(h,200);h();s.update=h;this.srcset=s;if(typeof t!=="undefined"&&t!==null){t.exports=this.srcset}})(this)},{"./srcset-info":1,"./viewport-info":3,"weak-map":4}],3:[function(e,t,r){(function(){var r=this.SrcsetInfo||e("./srcset-info");function n(){this.w=null;this.h=null;this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth;this.h=window.innerHeight||document.documentElement.clientHeight;this.x=window.devicePixelRatio};n.prototype.setForTesting=function(e){this.w=e.w;this.h=e.h;this.x=e.x};n.prototype.getBestImage=function(e){var t=e.imageCandidates.slice(0);var r=this._getBestCandidateIf(t,function(e,t){return e.w>t.w});this._removeCandidatesIf(t,function(e){return function(t){return t.w<e.w}}(this));if(t.length===0){t=[r]}var n=this._getBestCandidateIf(t,function(e,t){return e.h>t.h});this._removeCandidatesIf(t,function(e){return function(t){return t.h<e.h}}(this));if(t.length===0){t=[n]}var i=this._getBestCandidateIf(t,function(e,t){return e.x>t.x});this._removeCandidatesIf(t,function(e){return function(t){return t.x<e.x}}(this));if(t.length===0){t=[i]}var s=this._getBestCandidateIf(t,function(e,t){return e.w<t.w});this._removeCandidatesIf(t,function(e,t){return e.w>s.w});var a=this._getBestCandidateIf(t,function(e,t){return e.h<t.h});this._removeCandidatesIf(t,function(e,t){return e.h>s.h});var o=this._getBestCandidateIf(t,function(e,t){return e.x<t.x});this._removeCandidatesIf(t,function(e,t){return e.x>o.x});return t[0]};n.prototype._getBestCandidateIf=function(e,t){var r=e[0];for(var n=0;n<e.length;n++){var i=e[n];if(t(i,r)){r=i}}return r};n.prototype._removeCandidatesIf=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t(n)){e.splice(r,1)}}return e};n.prototype.getBestImage2=function(e){var t=null;var r=e.imageCandidates;for(var n=0;n<r.length;n++){var i=r[n];var s=t?t.x:0;if(s<=i.x&&i.x<=this.x){if(t===null){t=i;continue}if(this.w<=i.w&&i.w<=t.w){t=i}}}return t};this.ViewportInfo=n;if(typeof t!=="undefined"&&t!==null){t.exports=this.ViewportInfo}})(this)},{"./srcset-info":1}],4:[function(e,t,r){(function e(){"use strict";if(typeof ses!=="undefined"&&ses.ok&&!ses.ok()){return}function r(e){if(e.permitHostObjects___){e.permitHostObjects___(r)}}if(typeof ses!=="undefined"){ses.weakMapPermitHostObjects=r}var n=false;if(typeof WeakMap==="function"){var i=WeakMap;if(typeof navigator!=="undefined"&&/Firefox/.test(navigator.userAgent)){}else{var s=new i;var a=Object.freeze({});s.set(a,1);if(s.get(a)!==1){n=true}else{t.exports=WeakMap;return}}}var o=Object.prototype.hasOwnProperty;var u=Object.getOwnPropertyNames;var f=Object.defineProperty;var c=Object.isExtensible;var l="weakmap:";var h=l+"ident:"+Math.random()+"___";if(typeof crypto!=="undefined"&&typeof crypto.getRandomValues==="function"&&typeof ArrayBuffer==="function"&&typeof Uint8Array==="function"){var d=new ArrayBuffer(25);var v=new Uint8Array(d);crypto.getRandomValues(v);h=l+"rand:"+Array.prototype.map.call(v,function(e){return(e%36).toString(36)}).join("")+"___"}function p(e){return!(e.substr(0,l.length)==l&&e.substr(e.length-3)==="___")}f(Object,"getOwnPropertyNames",{value:function e(t){return u(t).filter(p)}});if("getPropertyNames"in Object){var _=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function e(t){return _(t).filter(p)}})}function w(e){if(e!==Object(e)){throw new TypeError("Not an object: "+e)}var t=e[h];if(t&&t.key===e){return t}if(!c(e)){return void 0}t={key:e};try{f(e,h,{value:t,writable:false,enumerable:false,configurable:false});return t}catch(e){return void 0}}(function(){var e=Object.freeze;f(Object,"freeze",{value:function t(r){w(r);return e(r)}});var t=Object.seal;f(Object,"seal",{value:function e(r){w(r);return t(r)}});var r=Object.preventExtensions;f(Object,"preventExtensions",{value:function e(t){w(t);return r(t)}})})();function g(e){e.prototype=null;return Object.freeze(e)}var b=false;function y(){if(!b&&typeof console!=="undefined"){b=true;console.warn("WeakMap should be invoked as new WeakMap(), not "+"WeakMap(). This will be an error in the future.")}}var m=0;var x=function(){if(!(this instanceof x)){y()}var e=[];var t=[];var r=m++;function n(n,i){var s;var a=w(n);if(a){return r in a?a[r]:i}else{s=e.indexOf(n);return s>=0?t[s]:i}}function i(t){var n=w(t);if(n){return r in n}else{return e.indexOf(t)>=0}}function s(n,i){var s;var a=w(n);if(a){a[r]=i}else{s=e.indexOf(n);if(s>=0){t[s]=i}else{s=e.length;t[s]=i;e[s]=n}}return this}function a(n){var i=w(n);var s,a;if(i){return r in i&&delete i[r]}else{s=e.indexOf(n);if(s<0){return false}a=e.length-1;e[s]=void 0;t[s]=t[a];e[s]=e[a];e.length=a;t.length=a;return true}}return Object.create(x.prototype,{get___:{value:g(n)},has___:{value:g(i)},set___:{value:g(s)},delete___:{value:g(a)}})};x.prototype=Object.create(Object.prototype,{get:{value:function e(t,r){return this.get___(t,r)},writable:true,configurable:true},has:{value:function e(t){return this.has___(t)},writable:true,configurable:true},set:{value:function e(t,r){return this.set___(t,r)},writable:true,configurable:true},delete:{value:function e(t){return this.delete___(t)},writable:true,configurable:true}});if(typeof i==="function"){(function(){if(n&&typeof Proxy!=="undefined"){Proxy=undefined}function e(){if(!(this instanceof x)){y()}var e=new i;var t=undefined;var s=false;function a(r,n){if(t){return e.has(r)?e.get(r):t.get___(r,n)}else{return e.get(r,n)}}function o(r){return e.has(r)||(t?t.has___(r):false)}var u;if(n){u=function(r,n){e.set(r,n);if(!e.has(r)){if(!t){t=new x}t.set(r,n)}return this}}else{u=function(r,n){if(s){try{e.set(r,n)}catch(e){if(!t){t=new x}t.set___(r,n)}}else{e.set(r,n)}return this}}function f(r){var n=!!e["delete"](r);if(t){return t.delete___(r)||n}return n}return Object.create(x.prototype,{get___:{value:g(a)},has___:{value:g(o)},set___:{value:g(u)},delete___:{value:g(f)},permitHostObjects___:{value:g(function(e){if(e===r){s=true}else{throw new Error("bogus call to permitHostObjects___")}})}})}e.prototype=x.prototype;t.exports=e;Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:false,configurable:true,writable:true})})()}else{if(typeof Proxy!=="undefined"){Proxy=undefined}t.exports=x}})()},{}]},{},[2]);